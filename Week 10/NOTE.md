### 浏览器工作原理

- **收集元素进行**
  - 根据主轴尺寸，收集元素进行，超出换行
  - 设置了 nowrap，强行收进一行
- **计算主轴**
  - 找出所有 flex 元素
  - 把主轴方向的剩余空间等比例分配给 flex 元素
  - 当剩余空间为负时，所有 flex 元素为 0，等比压缩剩余元素
- **计算交叉轴**
  - 根据每一行最高的元素确定行高
  - 根据 flex-align 和 item-align 确定元素位置
- **渲染**
  - 绘制单个元素
    - 绘制需要依赖一个图形环境
  - 绘制 DOM 树
    - 递归调用子元素的绘制方法完成 DOM 树的绘制
    - 忽略一些不需要绘制的节点
    - 实际浏览器中，文字绘制是难点，需要依赖字体库
    - 实际浏览器中，还会对一些图层做 compositing

#### 其他

- **layout 四代**
  - **float** 正常流 古典排版（position display float）
  - **flex**
    - main-asix
    - cross-asix
    - ✅ 选择理由：容易实现，能力不太差
  - **grid**
  - **css houdini**
- **flex**
  - 优先级：align-slef > align-items(统一值)
